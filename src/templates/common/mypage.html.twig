<!DOCTYPE html>

<html lang="ja">
	<head>
		<meta charset="utf-8"/>
		<meta
		name="viewport" content="width=device-width, initial-scale=1">

		{# Bootstrap #}
		<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

		{# favicon #}
		<link
		rel="icon" href="/public/favicon-black.ico"/>

		{# javascript #}
		<script src="js/changeFavicon.js"></script>
		<script src="https://yubinbango.github.io/yubinbango/yubinbango.js" charset="UTF-8"></script>
		<script src="js/editProfile.js"></script>

		{# css #}
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
		<link href="css/common.css" rel="stylesheet" type="text/css"/>
		<link
		href="css/mypage.css" rel="stylesheet" type="text/css"/>

		{# title #}
		<title>PhotoStudio -マイページ-</title>
	</head>

	<body>
		{% include 'common/header.html.twig' %}


		<div class="contents">
			<div class="card">
				<div class="card-header text-center">
					<h1>マイページ</h1>
				</div>
				<div class="mt-3 card-body">
					<div>
						<div class="mb-3">
							<label>ユーザーネーム</label>
							<h4>{{userArr.username}}</h4>
						</div>

						<div class="mb-3">
							<label>氏名</label>
							<div class="d-flex p-2">
								<label>（姓）</label>
								<h4>{{userArr.last_name}}</h4>
								<label>（名）</label>
								<h4>{{userArr.first_name}}</h4>
							</div>
						</div>

						<div class="mb-3">
							<label>氏名（かな）</label>
							<div class="d-flex p-2">
								<label>（姓）</label>
								<h4>{{userArr.last_name_kana}}</h4>
								<label>（名）</label>
								<h4>{{userArr.first_name_kana}}</h4>
							</div>
						</div>

						{% if userArr.company_name is not empty %}
							<div class="mb-3">
								<label>会社名</label>
								<h4>{{userArr.company_name}}</h4>
							</div>
						{% endif %}


						<div class="mb-3">
							<label>メールアドレス</label>
							<h4>{{userArr.email}}</h4>
						</div>

						<div class="mb-3">
							<label>電話番号</label>
							<h4>{{userArr.phone_number}}</h4>
						</div>

						<div class="mb-3">
							<label>性別</label>
							<h4>{{sexArr[userArr.sex]}}</h4>
						</div>

						<div class="mb-3">
							<label>郵便番号</label>
							<h4>{{userArr.zip}}</h4>
						</div>

						<div class="mb-3">
							<label>住所</label>
							<h4>{{userArr.pref}}{{userArr.city}}{{userArr.town}}</h4>
						</div>

						{% if userArr.website is not empty %}
							<div class="mb-3">
								<label>ホームページ</label>
								<h4>{{userArr.website}}</h4>
							</div>
						{% endif %}
					</div>
				</div>

				<div class="card-footer">
					{% if userArr.client_id is not empty %}
						<div class="mt-4 mb-4">
							<div class="d-flex gap-2">
								<button type="button" name="post" class="btn btn-primary btn-lg w-100 flex-grow-1" onclick="location.href='post.php'">
									画像を投稿する
									<i class="fa-regular fa-paper-plane"></i>
								</button>
								<button type="button" name="postList" class="btn btn-primary btn-lg w-100 flex-grow-1" onclick="location.href='postList.php'">
									投稿画像を確認する
									<i class="fa-solid fa-images"></i>
								</button>
								<button type="button" class="btn btn-secondary btn-lg w-100 flex-grow-1" data-bs-toggle="modal" data-bs-target="#editProfile">
									プロフィールを編集する
									<i class="fa-solid fa-pen"></i>
								</button>
							</div>
						</div>
					{% endif %}

					{% if userArr.customer_id is not empty %}
						<div class="d-flex gap-3 mt-2 mb-2">
							<button type="button" name="cart" class="btn btn-primary btn-lg w-100 flex-grow-1" onclick="location.href='cart.php'">
								カートを確認する
								<i class="fa-solid fa-cart-shopping"></i>
							</button>
							<button type="button" name="download" class="btn btn-primary btn-lg w-100 flex-grow-1" onclick="location.href='download.php'">
								購入画像を確認する
								<i class="fa-solid fa-file-arrow-down"></i>
							</button>
							<button type="button" class="btn btn-secondary btn-lg w-100 flex-grow-1" data-bs-toggle="modal" data-bs-target="#editProfile">
								プロフィールを編集する
								<i class="fa-solid fa-pen"></i>
							</button>
						</div>
					{% endif %}
				</div>
			</div>
		</div>

		{% include "common/edit_profile_modal.html.twig" %}

		{# Bootstrap #}
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
	</body>
</html>
